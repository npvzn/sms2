/* global $*/// Derived from Web Intents main.js and OAuth inline scripts
// Keyboard ordinal codes
var $session,ESCAPE_KEY;$(document).ready(function(){window.self==window.top&&(document.body.className+=" js",document.documentElement.style.display="block"),$session=$("#session"),ESCAPE_KEY=27}),$(document).bind({click:function(e){var t=$(".user-menu").get(0),n=$(".current-user a").get(0);if(!t&&!n)return;if(e.target==n||$.contains(n,e.target)){$session.toggleClass("show"),e.preventDefault();return}e.target!==t&&!$.contains(t,e.target)&&$session.removeClass("show")},keyup:function(e){e.keyCode===ESCAPE_KEY&&$session.removeClass("show")}}),window.opener&&$(document).ready(function(){var e=document.createElement("base"),t=170,n=document.getElementById("bd"),r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=window.outerHeight||r+60,s=window.innerWidth||document.documentElement.clientWidth+29||document.body.clientWidth+29;r<n.offsetHeight+t&&window.resizeTo(s,n.offsetHeight+(i-r)+t),e.target="_blank",document.getElementsByTagName("head")[0].appendChild(e),$(".button.cancel").click(function(){return window.close(),!1})}),$(document).ready(function(){function t(e){$(e).parents(".row").toggleClass("content",e.value.length>0)}var e=$("#username_or_email, #password");e.bind("keyup blur",function(){t(this)}),setInterval(function(){e.each(function(){t(this)})},100),$("label").click(function(){if(!this.htmlFor)return;document.getElementById(this.htmlFor).focus()}),0=="autofocus"in document.createElement("input")&&$("input, textarea").each(function(e,t){if(t.getAttribute("autofocus"))return t.focus(),!1}),$(document.body).hasClass("win8-auth")&&$("a").each(function(e,t){if($(t).hasClass("register"))return;t.target="_blank"})});